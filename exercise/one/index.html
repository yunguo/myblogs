<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>One-by-one-the-pop-up</title>
<style type="text/css">
	.warp-ul
	{
		position:relative ;
		margin:0 auto;
		padding:0;
		width:698px; 
		height:100%;
	}
	.warp-ul li
	{
		float:left;
		list-style:none;
		margin:5px;
		width:162px;
		height:162px;
	}
	.clearfix:before, .clearfix:after {content: ".";display: block;height: 0;visibility: hidden;}
	.clearfix:after {clear: both;}
	.clearfix {zoom: 1;} /* IE < 8 */
</style>
</head>

<body>
<ul class="warp-ul clearfix" id="warp-ul"> 
	<li><a href=""><img src="images/1.jpg" /></a></li>
    <li><a href=""><img src="images/2.jpg" /></a></li>
    <li><a href=""><img src="images/3.jpg" /></a></li>
    <li><a href=""><img src="images/4.jpg" /></a></li>
    <li><a href=""><img src="images/5.jpg" /></a></li>
    <li><a href=""><img src="images/6.jpg" /></a></li>
    <li><a href=""><img src="images/7.jpg" /></a></li>
    <li><a href=""><img src="images/8.jpg" /></a></li>
</ul>
<script src="js/movement.js" type="text/javascript"></script>
<script type="text/javascript">
window.onload = function()
{
	var json = {
		title :[
				"高圆圆1",
				"高圆圆2",
				"高圆圆3",
				"高圆圆4",
				"高圆圆5",
				"高圆圆6",
				"高圆圆7",
				"高圆圆8"
			]
		}
		
	var arr = [];
	var oUl = document.getElementById("warp-ul");
	var aLi = oUl.getElementsByTagName("li");
	var oUlHalfW = oUl.offsetWidth/2;
	var oUlH = oUl.offsetHeight;
	var len = aLi.length;
	var iNow = 0;
	var timer = 0;
	for(i=0,j=len;i<j;i++)
	{
		arr.push([aLi[i].offsetLeft,aLi[i].offsetTop]);   
	}
	for(i=0,j=len;i<j;i++)
	{
		aLi[i].style.position = "absolute";
		aLi[i].style.left = oUlHalfW+"px";
		aLi[i].style.top = oUlHalfW+"px";
		aLi[i].style.opacity = 0;
		aLi[i].style.filter="alpha(opacity:0)";
		aLi[i].style.margin = 0;
	}
	fadeIn();

	
	//popup();
	
	//元素淡入
	function fadeIn()
	{
		timer = setInterval(function()
		{
			StartMove(aLi[iNow],{left:arr[iNow][0],top:arr[iNow][1],opacity:100},MIAOV_MOVE_TYPE.BUFFER);
			if(iNow == 7)
			{
				clearInterval(timer);
			}
			else
			{
				iNow++;
			}
		},500);
	}
	
	//元素弹出
	function popup()
	{
		iNow = 7;
		var timer2 = setInterval(function()
		{
			StartMove(aLi[iNow],{left:250,top:300,opacity:0},MIAOV_MOVE_TYPE.BUFFER);
			if(iNow == 0)
			{
				clearInterval(timer2);
			}
			else
			{
				iNow--;
			}
		},500)
	}

}
</script>
</body>
</html>
